on:
  push:
    branches:
      - main
      - develop
      - feature/*

jobs:
  sonarcloud:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      # Optional: Remove the manual setup of SonarScanner if you're using the prebuilt action below
      # - name: Set up SonarScanner
      #   run: |
      #     curl -sSLo sonar-scanner-cli.zip https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-4.8.0.2856-linux.zip
      #     unzip sonar-scanner-cli.zip
      #     sudo mv sonar-scanner-4.8.0.2856-linux /usr/local/sonar-scanner
      #     export PATH="/usr/local/sonar-scanner/bin:$PATH"

      - name: SonarCloud Scan
        uses: SonarSource/sonarcloud-github-action@v1
        with:
          args: |
            -Dsonar.projectKey=your_project_key
            -Dsonar.organization=your_organization
            -Dsonar.host.url=https://sonarcloud.io
            -Dsonar.login=${{ 4953aea03fc75f31ee65fd8024528174e02310d6 }}
            -Dsonar.exclusions=**/*.min.js, **/*.html, dist/**, build/**

